import{f as O,aZ as _,e as c,cS as E,$ as g,S as C,D as u,am as I,w as y,aG as D,bF as N,s as d,o as v,cT as T,W as V,bM as w,z as x,m as B,k as P,r as t,d as f,N as s,bq as j}from"./devextreme-license-BOLHMBAL.js";const{getActiveElement:S}=B,h=O.real(),b=_.inherit({_supportedKeys(){return c({},this.callBase(),{tab(e){if(!this.option("opened"))return;const n=this._getTabbableElements(),o=e.shiftKey?n.last():n.first();o&&d.trigger(o,"focus"),e.preventDefault()}})},_getTabbableElements(){return this._getElements().filter(E)},_getElements(){return g(this.content()).find("*")},_getDefaultOptions(){return c(this.callBase(),{acceptCustomValue:!1,contentTemplate:"content",openOnFieldClick:!0,displayValueFormatter:e=>Array.isArray(e)?e.join(", "):e,useHiddenSubmitElement:!0})},_getAnonymousTemplateName:()=>"content",_initTemplates(){this.callBase()},_initMarkup(){this._initDataExpressions(),this.$element().addClass("dx-dropdownbox"),this.callBase()},_setSubmitValue(){const e=this.option("value"),n=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(n)},_shouldUseDisplayValue(e){return this.option("valueExpr")==="this"&&C(e)},_sortValuesByKeysOrder(e,n){return n.sort((a,i)=>e.indexOf(a.itemKey)-e.indexOf(i.itemKey)).map(a=>a.itemDisplayValue)},_renderInputValue(){this._rejectValueLoading();const e=[];if(!this._dataSource)return this.callBase(e),u().resolve();let o=this._getCurrentValue()??[];o=Array.isArray(o)?o:[o];const a=I(o,l=>{const p=u();return this._loadItem(l).always(m=>{const r=this._displayGetter(m);P(r)?e.push({itemKey:l,itemDisplayValue:r}):this.option("acceptCustomValue")&&e.push({itemKey:l,itemDisplayValue:l}),p.resolve()}),p}),i=this.callBase.bind(this);return y.apply(this,a).always(()=>{const l=this._sortValuesByKeysOrder(o,e);this.option("displayValue",l),i(e.length&&l)})},_loadItem(e){const n=u(),o=this,a=D(this.option("items")||[],i=>this._isValueEquals(this._valueGetter(i),e))[0];return a!==void 0?n.resolve(a):this._loadValue(e).done(i=>{n.resolve(i)}).fail(i=>{i!=null&&i.shouldSkipCallback||(o.option("acceptCustomValue")?n.resolve(e):n.reject())}),n.promise()},_popupTabHandler(e){if(N(e)!=="tab")return;const n=this._getTabbableElements().first().get(0),o=this._getTabbableElements().last().get(0),a=e.target,i=!!(a===n&&e.shiftKey),l=a===o&&!e.shiftKey;(i||l)&&(this.close(),d.trigger(this._input(),"focus"),i&&e.preventDefault())},_renderPopupContent(){if(this.option("contentTemplate")==="content")return;const e=this._getTemplateByOption("contentTemplate");if(!(e&&this.option("contentTemplate")))return;const n=this._popup.$content(),o={value:this._fieldRenderData(),component:this};n.empty(),e.render({container:v(n),model:o})},_canShowVirtualKeyboard:()=>h.mac,_isNestedElementActive(){const e=S();return e&&this._popup.$content().get(0).contains(e)},_shouldHideOnParentScroll(){return h.deviceType==="desktop"&&this._canShowVirtualKeyboard()&&this._isNestedElementActive()},_popupHiddenHandler(){this.callBase(),this._popupPosition=void 0},_popupPositionedHandler(e){this.callBase(e),this._popupPosition=e.position},_getDefaultPopupPosition(e){const{my:n,at:o}=this.callBase(e);return{my:n,at:o,offset:{v:-1},collision:"flipfit"}},_popupConfig(){const{focusStateEnabled:e}=this.option();return c(this.callBase(),{tabIndex:-1,dragEnabled:!1,focusStateEnabled:e,contentTemplate:"content",hideOnParentScroll:this._shouldHideOnParentScroll.bind(this),position:c(this.option("popupPosition"),{of:this.$element()}),_ignoreFunctionValueDeprecation:!0,maxHeight:(function(){var n;const o=(n=this._popupPosition)===null||n===void 0?void 0:n.v.location;return T(this.$element(),o)}).bind(this)})},_popupShownHandler(){this.callBase();const e=this._getTabbableElements().first();d.trigger(e,"focus")},_setCollectionWidgetOption:V,_optionChanged(e){switch(this._dataExpressionOptionChanged(e),e.name){case"dataSource":this._renderInputValue();break;case"displayValue":this.option("text",e.value);break;case"displayExpr":this._renderValue();break;case"contentTemplate":this._invalidate();break;default:this.callBase(e)}}}).include(w);x("dxDropDownBox",b);/*!
 * devextreme-react
 * Version: 24.1.8
 * Build date: Mon Dec 16 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const te=t.memo(t.forwardRef((e,n)=>{const o=t.useRef(null);t.useImperativeHandle(n,()=>({instance(){var r;return(r=o.current)==null?void 0:r.getInstance()}}),[o.current]);const a=t.useMemo(()=>["opened"],[]),i=t.useMemo(()=>["onChange","onClosed","onCopy","onCut","onDisposing","onEnterKey","onFocusIn","onFocusOut","onInitialized","onInput","onKeyDown","onKeyUp","onOpened","onPaste","onValueChanged"],[]),l=t.useMemo(()=>({defaultOpened:"opened"}),[]),p=t.useMemo(()=>({button:{optionName:"buttons",isCollectionItem:!0},dropDownOptions:{optionName:"dropDownOptions",isCollectionItem:!1}}),[]),m=t.useMemo(()=>[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent"},{tmplOption:"dropDownButtonTemplate",render:"dropDownButtonRender",component:"dropDownButtonComponent"},{tmplOption:"fieldTemplate",render:"fieldRender",component:"fieldComponent"}],[]);return t.createElement(f,{WidgetClass:b,ref:o,subscribableOptions:a,independentEvents:i,defaults:l,expectedChildren:p,templateProps:m,...e})})),$=t.memo(e=>t.createElement(s,{...e}));Object.assign($,{OptionName:"animation",ExpectedChildren:{hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}}});const M=t.memo(e=>t.createElement(s,{...e}));Object.assign(M,{OptionName:"at"});const R=t.memo(e=>t.createElement(s,{...e}));Object.assign(R,{OptionName:"boundaryOffset"});const H=t.memo(e=>t.createElement(s,{...e}));Object.assign(H,{OptionName:"buttons",IsCollectionItem:!0,ExpectedChildren:{options:{optionName:"options",isCollectionItem:!1}}});const K=t.memo(e=>t.createElement(s,{...e}));Object.assign(K,{OptionName:"collision"});const A=t.memo(e=>t.createElement(s,{...e}));Object.assign(A,{OptionName:"dropDownOptions",DefaultsProps:{defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},ExpectedChildren:{animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},TemplateProps:[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent"}]});const k=t.memo(e=>t.createElement(s,{...e}));Object.assign(k,{OptionName:"from",ExpectedChildren:{position:{optionName:"position",isCollectionItem:!1}}});const F=t.memo(e=>t.createElement(s,{...e}));Object.assign(F,{OptionName:"hide",ExpectedChildren:{from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}}});const W=t.memo(e=>t.createElement(s,{...e}));Object.assign(W,{OptionName:"my"});const z=t.memo(e=>t.createElement(s,{...e}));Object.assign(z,{OptionName:"offset"});const G=t.memo(e=>t.createElement(s,{...e}));Object.assign(G,{OptionName:"options",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]});const L=t.memo(e=>t.createElement(s,{...e}));Object.assign(L,{OptionName:"position"});const U=t.memo(e=>t.createElement(s,{...e}));Object.assign(U,{OptionName:"show"});const q=t.memo(e=>t.createElement(s,{...e}));Object.assign(q,{OptionName:"to"});const Z=t.memo(e=>t.createElement(s,{...e}));Object.assign(Z,{OptionName:"toolbarItems",IsCollectionItem:!0,TemplateProps:[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"},{tmplOption:"template",render:"render",component:"component"}]});/*!
 * devextreme-react
 * Version: 24.1.8
 * Build date: Mon Dec 16 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const ne=t.memo(t.forwardRef((e,n)=>{const o=t.useRef(null);t.useImperativeHandle(n,()=>({instance(){var r;return(r=o.current)==null?void 0:r.getInstance()}}),[o.current]);const a=t.useMemo(()=>["items"],[]),i=t.useMemo(()=>["onContentReady","onDisposing","onInitialized","onItemClick","onItemCollapsed","onItemContextMenu","onItemExpanded","onItemHold","onItemRendered","onSelectAllValueChanged"],[]),l=t.useMemo(()=>({defaultItems:"items"}),[]),p=t.useMemo(()=>({item:{optionName:"items",isCollectionItem:!0},searchEditorOptions:{optionName:"searchEditorOptions",isCollectionItem:!1}}),[]),m=t.useMemo(()=>[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"}],[]);return t.createElement(f,{WidgetClass:j,ref:o,subscribableOptions:a,independentEvents:i,defaults:l,expectedChildren:p,templateProps:m,...e})})),J=t.memo(e=>t.createElement(s,{...e}));Object.assign(J,{OptionName:"buttons",IsCollectionItem:!0,ExpectedChildren:{options:{optionName:"options",isCollectionItem:!1}}});const Q=t.memo(e=>t.createElement(s,{...e}));Object.assign(Q,{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]});const X=t.memo(e=>t.createElement(s,{...e}));Object.assign(X,{OptionName:"options",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]});const Y=t.memo(e=>t.createElement(s,{...e}));Object.assign(Y,{OptionName:"searchEditorOptions",DefaultsProps:{defaultValue:"value"},ExpectedChildren:{button:{optionName:"buttons",isCollectionItem:!0}}});export{te as D,ne as T};

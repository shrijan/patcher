Drupal.behaviors.searchView={attach:()=>{once("search-category",".js-form-item-field-content-category-value").forEach(e=>{const s=document.createElement("div");s.classList.add("tabbify");const t=e.querySelector("select");Array.from(t.children).forEach(a=>{const c=document.createElement("button");c.innerText=a.value=="All"?"All":a.innerText,a.selected&&c.classList.add("selected"),c.addEventListener("click",i=>{i.preventDefault(),t.value=a.value,s.querySelector(".selected").classList.remove("selected"),c.classList.add("selected")}),s.appendChild(c)}),e.insertBefore(s,t)}),once("search-date",".js-form-item-daterange input").forEach(e=>{const s=()=>{const t=e.parentNode;t.classList.toggle("active",e.checked),e.checked?setTimeout(()=>{t.classList.add("open")},500):t.classList.remove("open"),e.closest("form").querySelectorAll(".js-date-input__text, .js-date-input__trigger").forEach(a=>{e.checked?a.removeAttribute("tabIndex"):(a.value="",a.tabIndex=-1)})};e.addEventListener("change",s),s()}),once("search-sort",".form-item-sort-by select").forEach(e=>{e.addEventListener("change",()=>{const s=new URLSearchParams(window.location.search);s.set(e.name,e.value),window.location=window.location.pathname+"?"+s.toString()})}),once("search-mobile","#toggle-filters").forEach(e=>{e.addEventListener("click",()=>{const s=e.ariaExpanded=="false";e.ariaExpanded=s;const t=e.nextElementSibling;if(s){t.style.height="auto";const a=t.clientHeight;t.style.height=0,setTimeout(()=>{t.style.height=a.toString()+"px"},0),setTimeout(()=>{t.style.height="auto",t.classList.add("nsw-overflow-visible")},500)}else{const a=t.clientHeight;t.style.height=a.toString()+"px",t.classList.remove("nsw-overflow-visible"),setTimeout(()=>{t.style.height=0},0)}})}),once("search-apply-filter-top",".apply-filter-btn-top").forEach(e=>{e.addEventListener("click",()=>{e.closest(".filters").querySelector("form").submit()})})}};

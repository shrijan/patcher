import{u as l}from"./utilities-CT1sfag7.js";class r{constructor(e,s){this.element=e,this.tablistClass=".nsw-tabs__list",this.tablistItemClass="li",this.tablistLinkClass="a",this.showTab=s,this.tabList=this.element.querySelector(this.tablistClass),this.tabItems=this.tabList&&this.tabList.querySelectorAll(this.tablistItemClass),this.allowedKeys=[35,36,37,39,40],this.tabLinks=[],this.tabPanel=[],this.selectedTab=null,this.clickTabEvent=t=>this.clickTab(t),this.arrowKeysEvent=t=>this.arrowKeys(t),this.owns=[]}init(){this.tabList&&(this.setUpDom(),this.controls(),this.setInitalTab())}setUpDom(){const e=document.createElement("div");e.classList.add("nsw-tabs__list-wrapper"),this.element.prepend(e),e.prepend(this.tabList),this.tabList.setAttribute("role","tablist"),this.tabItems.forEach(s=>{const t=s,i=s.querySelector(this.tablistLinkClass),a=this.element.querySelector(i.hash),n=l("tab");this.owns.push(n),t.setAttribute("role","presentation"),this.enhanceTabLink(i,n),this.enhanceTabPanel(a,n)}),this.tabList.setAttribute("aria-owns",this.owns.join(" "))}enhanceTabLink(e,s){e.setAttribute("role","tab"),e.setAttribute("id",s),e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this.tabLinks.push(e)}enhanceTabPanel(e,s){const t=e;t.setAttribute("role","tabpanel"),t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledBy",s),t.setAttribute("tabindex","0"),t.hidden=!0,this.tabPanel.push(t)}setInitalTab(){const{tabLinks:e,tabPanel:s,showTab:t}=this,i=t===void 0?0:t,a=e[i];a.classList.add("active"),a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),s[i].hidden=!1,this.selectedTab=a}clickTab(e){e.preventDefault(),this.switchTabs(e.currentTarget)}switchTabs(e){const s=e;if(s!==this.selectedTab){s.focus(),s.removeAttribute("tabindex"),s.setAttribute("aria-selected",!0),s.classList.add("active"),this.selectedTab.setAttribute("aria-selected",!1),this.selectedTab.setAttribute("tabindex","-1"),this.selectedTab.classList.remove("active");const t=this.tabLinks.indexOf(s),i=this.tabLinks.indexOf(this.selectedTab);this.tabPanel[t].hidden=!1,this.tabPanel[i].hidden=!0,this.selectedTab=s,s.classList.contains("js-tabs-fixed")||s.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}arrowKeys({which:e}){const s=this.tabLinks.length-1;let t=this.tabLinks.indexOf(this.selectedTab),i=!1;if(this.allowedKeys.includes(e)){switch(e){case 35:t=s;break;case 36:t=0;break;case 37:t=t===0?-1:t-=1;break;case 39:t=t===s?-1:t+=1;break;case 40:i=!0;break}t>-1&&(i?this.tabPanel[t].focus():this.switchTabs(this.tabLinks[t]))}}controls(){this.tabLinks.forEach(e=>{e.addEventListener("click",this.clickTabEvent,!1),e.addEventListener("keydown",this.arrowKeysEvent,!1)})}}Drupal.behaviors.tabs={attach:()=>{once("tabs",".nsw-tabs.js-tabs").forEach(b=>{new r(b).init()})}};

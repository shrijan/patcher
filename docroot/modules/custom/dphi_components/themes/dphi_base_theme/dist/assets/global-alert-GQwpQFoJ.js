Drupal.behaviors.globalalert={attach:()=>{const b=i=>{const d=i+"=",r=document.cookie.split(";");for(let n=0;n<r.length;n++){let e=r[n];for(;e.charAt(0)==" ";)e=e.substring(1,e.length);if(e.indexOf(d)==0)return e.substring(d.length,e.length)}};once("global-alert","#global-alert-container").forEach(i=>{fetch("/global-alert-display").then(d=>{d.json().then(r=>{Object.entries(r).forEach(([n,e])=>{if(b("alert-"+n))return;const a=document.createElement("div");a.classList.add("nsw-global-alert"),e.alert_type_class&&a.classList.add(e.alert_type_class),a.setAttribute("role","alert"),i.appendChild(a);const p=document.createElement("div");p.classList.add("nsw-global-alert__wrapper"),a.appendChild(p);const s=document.createElement("div");s.classList.add("nsw-global-alert__content"),p.appendChild(s);const u=document.createElement("div");if(u.classList.add("nsw-global-alert__title"),u.innerText=e.title,s.appendChild(u),e.body){const c=document.createElement("p");c.innerHTML=e.body,s.appendChild(c)}if(e.cta_url){const c=document.createElement("p");s.appendChild(c);const o=document.createElement("a");o.href=e.cta_url,e.button_class&&(o.className=e.button_class),o.classList.add("nsw-button"),o.innerText=e.cta_text,c.appendChild(o)}const t=document.createElement("button");t.classList.add("nsw-icon-button"),t.type="button",t.ariaExpanded=!0,t.addEventListener("click",()=>{a.remove(),document.cookie="alert-"+n+"=1;path=/"}),s.appendChild(t);const l=document.createElement("span");l.classList.add("material-icons","nsw-material-icons"),l.setAttribute("focusable","false"),l.ariaHidden=!0,l.innerText="close",t.appendChild(l);const m=document.createElement("span");m.classList.add("sr-only"),m.innerText="Close message",t.appendChild(m)})})})})}};

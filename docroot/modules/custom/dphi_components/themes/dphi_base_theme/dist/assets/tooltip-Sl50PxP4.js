import{u as Mt}from"./utilities-CT1sfag7.js";const U=Math.min,W=Math.max,tt=Math.round,F=e=>({x:e,y:e}),$t={left:"right",right:"left",bottom:"top",top:"bottom"},Vt={start:"end",end:"start"};function lt(e,t,i){return W(e,U(t,i))}function J(e,t){return typeof e=="function"?e(t):e}function N(e){return e.split("-")[0]}function Q(e){return e.split("-")[1]}function bt(e){return e==="x"?"y":"x"}function at(e){return e==="y"?"height":"width"}function j(e){return["top","bottom"].includes(N(e))?"y":"x"}function ft(e){return bt(j(e))}function Nt(e,t,i){i===void 0&&(i=!1);const o=Q(e),n=ft(e),l=at(n);let s=n==="x"?o===(i?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(s=et(s)),[s,et(s)]}function Ht(e){const t=et(e);return[rt(e),t,rt(t)]}function rt(e){return e.replace(/start|end/g,t=>Vt[t])}function Bt(e,t,i){const o=["left","right"],n=["right","left"],l=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return i?t?n:o:t?o:n;case"left":case"right":return t?l:s;default:return[]}}function Wt(e,t,i,o){const n=Q(e);let l=Bt(N(e),i==="start",o);return n&&(l=l.map(s=>s+"-"+n),t&&(l=l.concat(l.map(rt)))),l}function et(e){return e.replace(/left|right|bottom|top/g,t=>$t[t])}function It(e){return{top:0,right:0,bottom:0,left:0,...e}}function xt(e){return typeof e!="number"?It(e):{top:e,right:e,bottom:e,left:e}}function it(e){const{x:t,y:i,width:o,height:n}=e;return{width:o,height:n,top:i,left:t,right:t+o,bottom:i+n,x:t,y:i}}function dt(e,t,i){let{reference:o,floating:n}=e;const l=j(t),s=ft(t),r=at(s),c=N(t),a=l==="y",f=o.x+o.width/2-n.width/2,u=o.y+o.height/2-n.height/2,p=o[r]/2-n[r]/2;let g;switch(c){case"top":g={x:f,y:o.y-n.height};break;case"bottom":g={x:f,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:u};break;case"left":g={x:o.x-n.width,y:u};break;default:g={x:o.x,y:o.y}}switch(Q(t)){case"start":g[s]-=p*(i&&a?-1:1);break;case"end":g[s]+=p*(i&&a?-1:1);break}return g}const jt=async(e,t,i)=>{const{placement:o="bottom",strategy:n="absolute",middleware:l=[],platform:s}=i,r=l.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:n}),{x:f,y:u}=dt(a,o,c),p=o,g={},d=0;for(let h=0;h<r.length;h++){const{name:m,fn:w}=r[h],{x:b,y:x,data:E,reset:y}=await w({x:f,y:u,initialPlacement:o,placement:p,strategy:n,middlewareData:g,rects:a,platform:s,elements:{reference:e,floating:t}});f=b??f,u=x??u,g={...g,[m]:{...g[m],...E}},y&&d<=50&&(d++,typeof y=="object"&&(y.placement&&(p=y.placement),y.rects&&(a=y.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:n}):y.rects),{x:f,y:u}=dt(a,p,c)),h=-1)}return{x:f,y:u,placement:p,strategy:n,middlewareData:g}};async function yt(e,t){var i;t===void 0&&(t={});const{x:o,y:n,platform:l,rects:s,elements:r,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:p=!1,padding:g=0}=J(t,e),d=xt(g),m=r[p?u==="floating"?"reference":"floating":u],w=it(await l.getClippingRect({element:(i=await(l.isElement==null?void 0:l.isElement(m)))==null||i?m:m.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(r.floating)),boundary:a,rootBoundary:f,strategy:c})),b=u==="floating"?{x:o,y:n,width:s.floating.width,height:s.floating.height}:s.reference,x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(r.floating)),E=await(l.isElement==null?void 0:l.isElement(x))?await(l.getScale==null?void 0:l.getScale(x))||{x:1,y:1}:{x:1,y:1},y=it(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:b,offsetParent:x,strategy:c}):b);return{top:(w.top-y.top+d.top)/E.y,bottom:(y.bottom-w.bottom+d.bottom)/E.y,left:(w.left-y.left+d.left)/E.x,right:(y.right-w.right+d.right)/E.x}}const qt=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:o,placement:n,rects:l,platform:s,elements:r,middlewareData:c}=t,{element:a,padding:f=0}=J(e,t)||{};if(a==null)return{};const u=xt(f),p={x:i,y:o},g=ft(n),d=at(g),h=await s.getDimensions(a),m=g==="y",w=m?"top":"left",b=m?"bottom":"right",x=m?"clientHeight":"clientWidth",E=l.reference[d]+l.reference[g]-p[g]-l.floating[d],y=p[g]-l.reference[g],H=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let M=H?H[x]:0;(!M||!await(s.isElement==null?void 0:s.isElement(H)))&&(M=r.floating[x]||l.floating[d]);const Y=E/2-y/2,$=M/2-h[d]/2-1,S=U(u[w],$),z=U(u[b],$),V=S,K=M-h[d]-z,v=M/2-h[d]/2+Y,B=lt(V,v,K),k=!c.arrow&&Q(n)!=null&&v!==B&&l.reference[d]/2-(v<V?S:z)-h[d]/2<0,C=k?v<V?v-V:v-K:0;return{[g]:p[g]+C,data:{[g]:B,centerOffset:v-B-C,...k&&{alignmentOffset:C}},reset:k}}}),Xt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,o;const{placement:n,middlewareData:l,rects:s,initialPlacement:r,platform:c,elements:a}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...m}=J(e,t);if((i=l.arrow)!=null&&i.alignmentOffset)return{};const w=N(n),b=j(r),x=N(r)===r,E=await(c.isRTL==null?void 0:c.isRTL(a.floating)),y=p||(x||!h?[et(r)]:Ht(r)),H=d!=="none";!p&&H&&y.push(...Wt(r,h,d,E));const M=[r,...y],Y=await yt(t,m),$=[];let S=((o=l.flip)==null?void 0:o.overflows)||[];if(f&&$.push(Y[w]),u){const v=Nt(n,s,E);$.push(Y[v[0]],Y[v[1]])}if(S=[...S,{placement:n,overflows:$}],!$.every(v=>v<=0)){var z,V;const v=(((z=l.flip)==null?void 0:z.index)||0)+1,B=M[v];if(B)return{data:{index:v,overflows:S},reset:{placement:B}};let k=(V=S.filter(C=>C.overflows[0]<=0).sort((C,R)=>C.overflows[1]-R.overflows[1])[0])==null?void 0:V.placement;if(!k)switch(g){case"bestFit":{var K;const C=(K=S.filter(R=>{if(H){const D=j(R.placement);return D===b||D==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(D=>D>0).reduce((D,_t)=>D+_t,0)]).sort((R,D)=>R[1]-D[1])[0])==null?void 0:K[0];C&&(k=C);break}case"initialPlacement":k=r;break}if(n!==k)return{reset:{placement:k}}}return{}}}};async function Yt(e,t){const{placement:i,platform:o,elements:n}=e,l=await(o.isRTL==null?void 0:o.isRTL(n.floating)),s=N(i),r=Q(i),c=j(i)==="y",a=["left","top"].includes(s)?-1:1,f=l&&c?-1:1,u=J(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:d}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return r&&typeof d=="number"&&(g=r==="end"?d*-1:d),c?{x:g*f,y:p*a}:{x:p*a,y:g*f}}const zt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,o;const{x:n,y:l,placement:s,middlewareData:r}=t,c=await Yt(t,e);return s===((i=r.offset)==null?void 0:i.placement)&&(o=r.arrow)!=null&&o.alignmentOffset?{}:{x:n+c.x,y:l+c.y,data:{...c,placement:s}}}}},Kt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:o,placement:n}=t,{mainAxis:l=!0,crossAxis:s=!1,limiter:r={fn:m=>{let{x:w,y:b}=m;return{x:w,y:b}}},...c}=J(e,t),a={x:i,y:o},f=await yt(t,c),u=j(N(n)),p=bt(u);let g=a[p],d=a[u];if(l){const m=p==="y"?"top":"left",w=p==="y"?"bottom":"right",b=g+f[m],x=g-f[w];g=lt(b,g,x)}if(s){const m=u==="y"?"top":"left",w=u==="y"?"bottom":"right",b=d+f[m],x=d-f[w];d=lt(b,d,x)}const h=r.fn({...t,[p]:g,[u]:d});return{...h,data:{x:h.x-i,y:h.y-o}}}}};function X(e){return vt(e)?(e.nodeName||"").toLowerCase():"#document"}function A(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _(e){var t;return(t=(vt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vt(e){return e instanceof Node||e instanceof A(e).Node}function L(e){return e instanceof Element||e instanceof A(e).Element}function O(e){return e instanceof HTMLElement||e instanceof A(e).HTMLElement}function pt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof A(e).ShadowRoot}function Z(e){const{overflow:t,overflowX:i,overflowY:o,display:n}=T(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+i)&&!["inline","contents"].includes(n)}function Ut(e){return["table","td","th"].includes(X(e))}function ot(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ut(e){const t=gt(),i=T(e);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(i.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(i.contain||"").includes(o))}function Gt(e){let t=P(e);for(;O(t)&&!q(t);){if(ot(t))return null;if(ut(t))return t;t=P(t)}return null}function gt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function q(e){return["html","body","#document"].includes(X(e))}function T(e){return A(e).getComputedStyle(e)}function nt(e){return L(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function P(e){if(X(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pt(e)&&e.host||_(e);return pt(t)?t.host:t}function Et(e){const t=P(e);return q(t)?e.ownerDocument?e.ownerDocument.body:e.body:O(t)&&Z(t)?t:Et(t)}function ct(e,t,i){var o;t===void 0&&(t=[]),i===void 0&&(i=!0);const n=Et(e),l=n===((o=e.ownerDocument)==null?void 0:o.body),s=A(n);return l?t.concat(s,s.visualViewport||[],Z(n)?n:[],s.frameElement&&i?ct(s.frameElement):[]):t.concat(n,ct(n,[],i))}function At(e){const t=T(e);let i=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const n=O(e),l=n?e.offsetWidth:i,s=n?e.offsetHeight:o,r=tt(i)!==l||tt(o)!==s;return r&&(i=l,o=s),{width:i,height:o,$:r}}function Tt(e){return L(e)?e:e.contextElement}function I(e){const t=Tt(e);if(!O(t))return F(1);const i=t.getBoundingClientRect(),{width:o,height:n,$:l}=At(t);let s=(l?tt(i.width):i.width)/o,r=(l?tt(i.height):i.height)/n;return(!s||!Number.isFinite(s))&&(s=1),(!r||!Number.isFinite(r))&&(r=1),{x:s,y:r}}const Jt=F(0);function Ct(e){const t=A(e);return!gt()||!t.visualViewport?Jt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qt(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==A(e)?!1:t}function G(e,t,i,o){t===void 0&&(t=!1),i===void 0&&(i=!1);const n=e.getBoundingClientRect(),l=Tt(e);let s=F(1);t&&(o?L(o)&&(s=I(o)):s=I(e));const r=Qt(l,i,o)?Ct(l):F(0);let c=(n.left+r.x)/s.x,a=(n.top+r.y)/s.y,f=n.width/s.x,u=n.height/s.y;if(l){const p=A(l),g=o&&L(o)?A(o):o;let d=p,h=d.frameElement;for(;h&&o&&g!==d;){const m=I(h),w=h.getBoundingClientRect(),b=T(h),x=w.left+(h.clientLeft+parseFloat(b.paddingLeft))*m.x,E=w.top+(h.clientTop+parseFloat(b.paddingTop))*m.y;c*=m.x,a*=m.y,f*=m.x,u*=m.y,c+=x,a+=E,d=A(h),h=d.frameElement}}return it({width:f,height:u,x:c,y:a})}function Zt(e){let{elements:t,rect:i,offsetParent:o,strategy:n}=e;const l=n==="fixed",s=_(o),r=t?ot(t.floating):!1;if(o===s||r&&l)return i;let c={scrollLeft:0,scrollTop:0},a=F(1);const f=F(0),u=O(o);if((u||!u&&!l)&&((X(o)!=="body"||Z(s))&&(c=nt(o)),O(o))){const p=G(o);a=I(o),f.x=p.x+o.clientLeft,f.y=p.y+o.clientTop}return{width:i.width*a.x,height:i.height*a.y,x:i.x*a.x-c.scrollLeft*a.x+f.x,y:i.y*a.y-c.scrollTop*a.y+f.y}}function te(e){return Array.from(e.getClientRects())}function Lt(e){return G(_(e)).left+nt(e).scrollLeft}function ee(e){const t=_(e),i=nt(e),o=e.ownerDocument.body,n=W(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=W(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-i.scrollLeft+Lt(e);const r=-i.scrollTop;return T(o).direction==="rtl"&&(s+=W(t.clientWidth,o.clientWidth)-n),{width:n,height:l,x:s,y:r}}function ie(e,t){const i=A(e),o=_(e),n=i.visualViewport;let l=o.clientWidth,s=o.clientHeight,r=0,c=0;if(n){l=n.width,s=n.height;const a=gt();(!a||a&&t==="fixed")&&(r=n.offsetLeft,c=n.offsetTop)}return{width:l,height:s,x:r,y:c}}function oe(e,t){const i=G(e,!0,t==="fixed"),o=i.top+e.clientTop,n=i.left+e.clientLeft,l=O(e)?I(e):F(1),s=e.clientWidth*l.x,r=e.clientHeight*l.y,c=n*l.x,a=o*l.y;return{width:s,height:r,x:c,y:a}}function ht(e,t,i){let o;if(t==="viewport")o=ie(e,i);else if(t==="document")o=ee(_(e));else if(L(t))o=oe(t,i);else{const n=Ct(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return it(o)}function Ot(e,t){const i=P(e);return i===t||!L(i)||q(i)?!1:T(i).position==="fixed"||Ot(i,t)}function ne(e,t){const i=t.get(e);if(i)return i;let o=ct(e,[],!1).filter(r=>L(r)&&X(r)!=="body"),n=null;const l=T(e).position==="fixed";let s=l?P(e):e;for(;L(s)&&!q(s);){const r=T(s),c=ut(s);!c&&r.position==="fixed"&&(n=null),(l?!c&&!n:!c&&r.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Z(s)&&!c&&Ot(e,s))?o=o.filter(f=>f!==s):n=r,s=P(s)}return t.set(e,o),o}function se(e){let{element:t,boundary:i,rootBoundary:o,strategy:n}=e;const s=[...i==="clippingAncestors"?ot(t)?[]:ne(t,this._c):[].concat(i),o],r=s[0],c=s.reduce((a,f)=>{const u=ht(t,f,n);return a.top=W(u.top,a.top),a.right=U(u.right,a.right),a.bottom=U(u.bottom,a.bottom),a.left=W(u.left,a.left),a},ht(t,r,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function le(e){const{width:t,height:i}=At(e);return{width:t,height:i}}function re(e,t,i){const o=O(t),n=_(t),l=i==="fixed",s=G(e,!0,l,t);let r={scrollLeft:0,scrollTop:0};const c=F(0);if(o||!o&&!l)if((X(t)!=="body"||Z(n))&&(r=nt(t)),o){const u=G(t,!0,l,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else n&&(c.x=Lt(n));const a=s.left+r.scrollLeft-c.x,f=s.top+r.scrollTop-c.y;return{x:a,y:f,width:s.width,height:s.height}}function st(e){return T(e).position==="static"}function mt(e,t){return!O(e)||T(e).position==="fixed"?null:t?t(e):e.offsetParent}function kt(e,t){const i=A(e);if(ot(e))return i;if(!O(e)){let n=P(e);for(;n&&!q(n);){if(L(n)&&!st(n))return n;n=P(n)}return i}let o=mt(e,t);for(;o&&Ut(o)&&st(o);)o=mt(o,t);return o&&q(o)&&st(o)&&!ut(o)?i:o||Gt(e)||i}const ce=async function(e){const t=this.getOffsetParent||kt,i=this.getDimensions,o=await i(e.floating);return{reference:re(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function ae(e){return T(e).direction==="rtl"}const fe={convertOffsetParentRelativeRectToViewportRelativeRect:Zt,getDocumentElement:_,getClippingRect:se,getOffsetParent:kt,getElementRects:ce,getClientRects:te,getDimensions:le,getScale:I,isElement:L,isRTL:ae},St=zt,Rt=Kt,Dt=Xt,Ft=qt,Pt=(e,t,i)=>{const o=new Map,n={platform:fe,...i},l={...n.platform,_c:o};return jt(e,t,{...n,platform:l})};class ue{constructor(t){this.tooltip=t,this.uID=Mt("tooltip"),this.tooltipElement=!1,this.arrowElement=!1,this.tooltipContent=!1,this.tooltipDelay=400,this.screenSize=!1,this.tooltipTheme=this.tooltip.getAttribute("data-theme")||"dark"}init(){if(this.tooltipContent=this.tooltip.getAttribute("title"),!this.tooltipContent)return;this.constructor.setAttributes(this.tooltip,{"data-tooltip-content":this.tooltipContent,"aria-describedby":this.uID,tabindex:"0"}),this.tooltip.removeAttribute("title"),["mouseenter","mouseleave","focus","blur"].forEach((i,{listener:o=this.handleEvent.bind(this)})=>{this.tooltip.addEventListener(i,o)})}handleEvent(t){switch(t.type){case"mouseenter":case"focus":this.showTooltip(this,t);break;case"mouseleave":case"blur":this.hideTooltip(this,t);break;default:console.log(`Unexpected event type: ${t.type}`);break}}createTooltipElement(){this.tooltipElement||(this.tooltipElement=document.createElement("div"),document.body.appendChild(this.tooltipElement)),this.constructor.setAttributes(this.tooltipElement,{id:this.uID,class:`nsw-tooltip__element nsw-tooltip__element--${this.tooltipTheme}`,role:"tooltip"}),this.tooltip&&(this.arrowElement=document.createElement("div"),this.arrowElement.className="nsw-tooltip__arrow"),this.tooltipContent=this.tooltip.getAttribute("data-tooltip-content"),this.tooltipElement.innerHTML=this.tooltipContent,this.tooltipElement.insertAdjacentElement("beforeend",this.arrowElement)}showTooltip(){setTimeout(()=>{this.createTooltipElement(),this.tooltipElement.classList.add("active");const t=document.createRange(),i=this.tooltipElement.childNodes[0];t.setStartBefore(i),t.setEndAfter(i);const o=t.getBoundingClientRect();this.matchMedia(),this.tooltipElement.style.width=`${o.width+this.screenSize}px`,this.updateTooltip(this.tooltipElement,this.arrowElement)},this.tooltipDelay)}hideTooltip(){setTimeout(()=>{this.tooltipElement.classList.remove("active"),this.tooltipElement.style.width=""},this.tooltipDelay)}matchMedia(){window.matchMedia("(min-width: 576px)").matches?this.screenSize=32:this.screenSize=16}updateTooltip(t,i,o=this.tooltip){Pt(o,t,{placement:"top",middleware:[St(8),Dt(),Rt({padding:5}),Ft({element:i})]}).then(({x:n,y:l,placement:s,middlewareData:r})=>{Object.assign(t.style,{left:`${n}px`,top:`${l}px`});const{x:c,y:a}=r.arrow,f={top:"bottom",right:"left",bottom:"top",left:"right"}[s.split("-")[0]];Object.assign(i.style,{left:c!=null?`${c}px`:"",top:a!=null?`${a}px`:"",right:"",bottom:"",[f]:"-6px"})})}static setAttributes(t,i){Object.keys(i).forEach(o=>t.setAttribute(o,i[o]))}}function wt(e,t){function i(){return new DOMParser().parseFromString(e,"text/html").body||document.createElement("body")}function o(c){const a=c.querySelectorAll("script");for(const f of a)f.remove()}function n(c,a){const f=a.replace(/\s+/g,"").toLowerCase();return!!(["src","href","xlink:href"].includes(c)&&(f.includes("javascript:")||f.includes("data:text/html"))||c.startsWith("on"))}function l(c){const a=c.attributes;for(const{name:f,value:u}of a)n(f,u)&&c.removeAttribute(f)}function s(c){const a=c.children;for(const f of a)l(f),s(f)}const r=i();return o(r),s(r),t?r.childNodes:r.innerHTML}class ge{constructor(t){this.toggletip=t,this.toggletipId=this.toggletip.getAttribute("aria-controls"),this.toggletipElement=this.toggletipId&&document.querySelector(`#${this.toggletipId}`),this.toggletipContent=!1,this.toggletipAnchor=this.toggletip.querySelector("[data-anchor]")||this.toggletip,this.toggletipText=this.toggletip.innerText,this.toggletipHeading=this.toggletip.getAttribute("data-title")||this.toggletipText,this.arrowElement=!1,this.closeButton=!1,this.toggletipIsOpen=!1,this.toggletipVisibleClass="active",this.firstFocusable=!1,this.lastFocusable=!1}init(){this.toggletipElement&&(this.constructor.setAttributes(this.toggletip,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.toggletip.addEventListener("click",this.toggleToggletip.bind(this)),this.toggletip.addEventListener("keyup",t=>{(t.code&&t.code.toLowerCase()==="enter"||t.key&&t.key.toLowerCase()==="enter")&&this.toggleToggletip()}),window.addEventListener("DOMContentLoaded",()=>{this.toggletipContent=this.toggletipElement.innerHTML}),this.toggletipElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",t=>{this.checkToggletipClick(t.target)}),window.addEventListener("keyup",t=>{(t.code&&t.code.toLowerCase()==="escape"||t.key&&t.key.toLowerCase()==="escape")&&this.checkToggletipFocus()}),window.addEventListener("resize",()=>{this.toggletipIsOpen&&this.toggleToggletip()}),window.addEventListener("scroll",()=>{this.toggletipIsOpen&&this.toggleToggletip()})}toggleToggletip(){this.toggletipElement.classList.contains("active")?this.hideToggletip():(this.toggletipElement.focus(),this.showToggletip())}createToggletipElement(){if(this.toggletipElement){this.toggletipElement.innerHTML="";const t=`
      <div class="nsw-toggletip__header">
        <div id="nsw-toggletip__header" class="sr-only">${wt(this.toggletipHeading)}</div>
        <button type="button" class="nsw-icon-button">
          <span class="sr-only">Remove file</span>
          <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">close</span>
        </button>
      </div>
      <div id="nsw-toggletip__content" class="nsw-toggletip__content">
        ${wt(this.toggletipContent)}
      </div>
      <div class="nsw-toggletip__arrow"></div>`;this.toggletipElement.insertAdjacentHTML("afterbegin",t)}this.constructor.setAttributes(this.toggletipElement,{"aria-labelledby":"nsw-toggletip__header","aria-describedby":"nsw-toggletip__content","aria-expanded":"false",tabindex:"0",role:"dialog"})}showToggletip(){this.createToggletipElement(),this.arrowElement=this.toggletipElement.querySelector(".nsw-toggletip__arrow"),this.closeButton=this.toggletipElement.querySelector(".nsw-icon-button"),this.toggletipElement.setAttribute("aria-expanded","true"),this.toggletipElement.classList.add("active"),this.toggletipIsOpen=!0,this.getFocusableElements(),this.toggletipElement.focus({preventScroll:!0}),this.toggletip.addEventListener("transitionend",()=>{this.focusToggletip()},{once:!0}),this.updateToggletip(this.toggletipElement,this.arrowElement),this.closeButton.addEventListener("click",this.toggleToggletip.bind(this))}hideToggletip(){this.toggletipElement.setAttribute("aria-expanded","false"),this.toggletipElement.classList.remove("active"),this.toggletipIsOpen=!1}updateToggletip(t,i,o=this.toggletipAnchor){Pt(o,t,{placement:"top",middleware:[St(8),Dt(),Rt({padding:5}),Ft({element:i})]}).then(({x:n,y:l,placement:s,middlewareData:r})=>{Object.assign(t.style,{left:`${n}px`,top:`${l}px`});const{x:c,y:a}=r.arrow,f={top:"bottom",right:"left",bottom:"top",left:"right"}[s.split("-")[0]];Object.assign(i.style,{left:c!=null?`${c}px`:"",top:a!=null?`${a}px`:"",right:"",bottom:"",[f]:"-6px"})})}checkToggletipClick(t){this.toggletipIsOpen&&!this.toggletipElement.contains(t)&&!t.closest(`[aria-controls="${this.toggletipId}"]`)&&this.toggleToggletip()}checkToggletipFocus(){this.toggletipIsOpen&&(this.constructor.moveFocus(this.toggletip),this.toggleToggletip())}focusToggletip(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.toggletipElement)}getFocusableElements(){const i=this.toggletipElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(i),this.getLastVisible(i)}getFirstVisible(t){for(let i=0;i<t.length;i+=1)if(this.constructor.isVisible(t[i])){this.firstFocusable=t[i];break}}getLastVisible(t){for(let i=t.length-1;i>=0;i-=1)if(this.constructor.isVisible(t[i])){this.lastFocusable=t[i];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable===document.activeElement&&!t.shiftKey&&(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,i){Object.keys(i).forEach(o=>t.setAttribute(o,i[o]))}}document.addEventListener("keyup",e=>{if(e.key===" "||e.key==="Enter"){const t=document.activeElement;if(t.tagName.toLowerCase()==="button"){const i=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});t.dispatchEvent(i)}}});Drupal.behaviors.tooltip={attach:()=>{const e=t=>{const i=t.getAttribute("aria-controls");return i&&!document.querySelector("#"+i)?(t.removeAttribute("aria-controls"),!1):!0};once("tooltip",".nsw-tooltip.js-tooltip").forEach(t=>{e(t)?new ue(t).init():t.classList.remove("nsw-tooltip")}),once("toggletip",".nsw-toggletip.js-toggletip").forEach(t=>{if(e(t)){t.removeAttribute("title");const i=new ge(t);i.init(),new MutationObserver(n=>{for(const l of n)if(l.attributeName=="aria-expanded"){i.toggletipIsOpen||t.focus();break}}).observe(i.toggletipElement,{attributes:!0})}else t.classList.remove("nsw-toggletip")})}};
